{% extends "layout.html" %}

{% block title %}Prompt Playground{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/playground.css') }}">
{% endblock %}

{% block content %}
<div class="container">
    <h1>提示词管理</h1>
    <div class="playground">
        <div class="tree-container">
            <div class="toolbar">
                <input id="search" class="default-input" placeholder="搜索" type="text" autocomplete="off" value="" action-data="search">
                <button class="btn btn-primary" action-data="createNamespace">添加</button>
            </div>
            <div class="tree" id="namespaceTree" ></div>
        </div>
        <div class="content-container">

            <div class="content-down-container">
                <div class="left-container">
                    <div class="toolbar">
                        <input type="hidden" id="namespaceName" />
                        <button class="btn btn-secondary" action-data="createPrompts">新建</button>
                        <input class="default-input w100-px" type="text" id="promptName" placeholder="输入提示名称">
                        <button class="btn btn-success" action-data="savePrompt">保存</button>
                        <label>当前版本：</label>
                        <select class="default-select w120-px ellipsis" id="versions" action-data="changeVersion"></select>
                    </div>
                    <div>
                        <div class="toolbar">
                            <label>系统提示词</label>
                        </div>
                        <div>
                            <textarea class="default-textarea system-prompt" id="systemPrompt"></textarea>
                        </div>
                    </div>
                    <div>
                        <div class="toolbar">
                            <label>用户输入</label>
                        </div>
                        <div>
                            <textarea class="default-textarea user-input" id="userInput" ></textarea>
                        </div>
                    </div>
                </div>
                <div class="right-container">
                    <div class="toolbar">
                        <div>
                            <label>模型</label>
                            <select class="default-select w200-px ellipsis" id="models"></select>
                        </div>

                    </div>
                    <div class="toolbar">
                        <div>
                            <label>历史对话</label>
                        </div>
                        <div>
                            <label>Temperature</label>
                            <input class="default-input w60-px" type="text" id="temperature" value="1">
                        </div>
                        <div>
                            <label>MaxToken</label>
                            <input class="default-input w60-px" type="text" id="maxtoken" value="4096">
                        </div>
                    </div>
                    <div>
                        <textarea class="default-textarea history-records" id="historyRecords" class="records"></textarea>
                    </div>
                    <button class="btn btn-primary" action-data="sendPrompt">发送</button>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script type="module" src="{{ url_for('static', filename='js/playground.js') }}"></script>
{% endblock %}